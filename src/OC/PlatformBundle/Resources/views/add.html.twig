
{% extends "OCPlatformBundle::layout.html.twig" %}

{% block body %}

  <h2>Ajouter/Modification</h2>

  <div class="well">
    {{ form(form) }}
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script>
    var $club = $('#form_club');
    // When sport gets selected ...
    $club.change(function() {
      // ... retrieve the corresponding form.
      var $form = $(this).closest('form');
      // Simulate form data, but only include the selected sport value.
      var data = {};
      data[$club.attr('name')] = $club.val();
      // Submit data via AJAX to the form's action path.
      $.ajax({
        url : $form.attr('action'),
        type: $form.attr('method'),
        data : data,
        success: function(html) {
          // Replace current position field ...
          $('#form_equipes').replaceWith(
                  // ... with the returned one from the AJAX response.
                  $(html).find('#form_equipes')

          );
          $
          // Position field now displays the appropriate positions.
        }
      });
    });
  </script>

{% endblock %}
